{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/esnext.json.parse.js\";\nimport Footer from \"@/conponents/Footer.vue\";\nexport default {\n  name: \"FrontLayout\",\n  components: {\n    Footer\n  },\n  data() {\n    return {\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {},\n      menuList: [{\n        text: \"首页\",\n        path: '/front/home'\n      }, {\n        text: \"个人中心\",\n        path: '/front/person'\n      }]\n    };\n  },\n  created() {\n    if (typeof this.user.username === 'undefined') {\n      this.menuList = this.menuList.filter(item => item.text == \"首页\");\n    }\n  },\n  methods: {\n    goPage(path) {\n      location.href = path;\n    },\n    updateUser() {\n      this.user = JSON.parse(localStorage.getItem('user') || '{}'); // 重新获取下用户的最新信息\n    },\n    logout() {\n      localStorage.removeItem(\"user\");\n      location.href = '/front/home';\n    }\n  }\n};","map":{"version":3,"names":["Footer","name","components","data","user","localStorage","getItem","JSON","parse","menuList","text","path","created","username","filter","item","methods","goPage","location","href","updateUser","logout","removeItem"],"sources":["src/views/front/Front.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- 头部 -->\r\n    <div class=\"header\">\r\n      <div class=\"front-header\">\r\n        <a href=\"/front/home\">\r\n          <div class=\"front-header-left\">\r\n            <img src=\"@/assets/logo.svg\" alt=\"\">\r\n            <div class=\"title\">基础脚手架</div>\r\n          </div>\r\n        </a>\r\n\r\n        <!-- 菜单 -->\r\n        <div class=\"front-header-center\">\r\n          <div @click=\"goPage(item.path)\" class=\"menu-item\" v-for=\"item in menuList\" :key=\"item.text\" :class=\"{'menu-item-active' : item.path === $route.path }\">{{ item.text }}</div>\r\n        </div>\r\n\r\n        <!-- 未登录情况展示 -->\r\n        <div class=\"front-header-right\">\r\n          <div v-if=\"!user.username\" class=\"front-header-right-button\">\r\n            <el-button type=\"primary\" plain @click=\"$router.push('/login')\">登录</el-button>\r\n            <el-button type=\"success\" plain @click=\"$router.push('/register')\">注册</el-button>\r\n          </div>\r\n          <!-- 登录展示 -->\r\n          <div v-else>\r\n            <el-dropdown>\r\n              <div class=\"front-header-dropdown\">\r\n                <img :src=\"user.avatar\" alt=\"\">\r\n              </div>\r\n              <el-dropdown-menu slot=\"dropdown\">\r\n                <el-dropdown-item>\r\n                  <div style=\"color: #333\">{{user.name}}</div>\r\n                </el-dropdown-item>\r\n                <el-dropdown-item>\r\n                  <a style=\"color: #333\" href=\"/front/person\"><div>个人信息</div></a>\r\n                </el-dropdown-item>\r\n                <el-dropdown-item>\r\n                  <div @click=\"logout\">退出</div>\r\n                </el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </el-dropdown>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 主体 -->\r\n    <div class=\"main-body\">\r\n      <router-view ref=\"child\" @update:user=\"updateUser\" />\r\n    </div>\r\n\r\n    <!-- 底部 -->\r\n    <Footer />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Footer from \"@/conponents/Footer.vue\";\r\n\r\nexport default {\r\n  name: \"FrontLayout\",\r\n  components: {Footer},\r\n  data () {\r\n    return {\r\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {},\r\n      menuList: [\r\n        {text: \"首页\", path: '/front/home'},\r\n        {text: \"个人中心\", path: '/front/person'},\r\n      ],\r\n    }\r\n  },\r\n  created() {\r\n    if(typeof this.user.username === 'undefined'){\r\n      this.menuList = this.menuList.filter(item => (item.text == \"首页\"));\r\n    }\r\n  },\r\n  methods: {\r\n    goPage(path) {\r\n      location.href = path;\r\n    },\r\n    updateUser() {\r\n      this.user = JSON.parse(localStorage.getItem('user') || '{}')   // 重新获取下用户的最新信息\r\n    },\r\n    logout() {\r\n      localStorage.removeItem(\"user\");\r\n      location.href = '/front/home'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* 全局引入基础样式 */\r\n@import \"@/assets/css/front.css\";\r\n\r\n</style>\r\n"],"mappings":";;;AA0DA,OAAAA,MAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAF;EAAA;EACAG,KAAA;IACA;MACAC,IAAA,EAAAC,YAAA,CAAAC,OAAA,WAAAC,IAAA,CAAAC,KAAA,CAAAH,YAAA,CAAAC,OAAA;MACAG,QAAA,GACA;QAAAC,IAAA;QAAAC,IAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,IAAA;MAAA;IAEA;EACA;EACAC,QAAA;IACA,gBAAAR,IAAA,CAAAS,QAAA;MACA,KAAAJ,QAAA,QAAAA,QAAA,CAAAK,MAAA,CAAAC,IAAA,IAAAA,IAAA,CAAAL,IAAA;IACA;EACA;EACAM,OAAA;IACAC,OAAAN,IAAA;MACAO,QAAA,CAAAC,IAAA,GAAAR,IAAA;IACA;IACAS,WAAA;MACA,KAAAhB,IAAA,GAAAG,IAAA,CAAAC,KAAA,CAAAH,YAAA,CAAAC,OAAA;IACA;IACAe,OAAA;MACAhB,YAAA,CAAAiB,UAAA;MACAJ,QAAA,CAAAC,IAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}