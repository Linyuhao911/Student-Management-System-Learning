{"ast":null,"code":"import \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/esnext.json.parse.js\";\nexport default {\n  name: \"Person\",\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('user') || '{}'),\n      dialogFormVisible: false,\n      form: {\n        account: 0,\n        type: '微信支付'\n      }\n    };\n  },\n  methods: {\n    update() {\n      this.$request.put('/user/update', this.user).then(res => {\n        if (res.code === '200') {\n          this.$message.success('保存成功');\n          localStorage.setItem('user', JSON.stringify(this.user));\n          this.$emit('update:user', this.user);\n        } else {\n          this.$notify.error({\n            title: '成功',\n            message: res.msg,\n            showClose: false,\n            duration: 2000\n          });\n        }\n      });\n    },\n    handleAvatarSuccess(response) {\n      this.user.avatar = response.data;\n    },\n    handleOpen() {\n      this.dialogFormVisible = true;\n    },\n    account() {\n      this.user.account = Number(this.user.account) + Number(this.form.account);\n      this.$request.put('/user/update', this.user).then(res => {\n        if (res.code === '200') {\n          this.$notify.success({\n            title: '成功',\n            message: '充值成功',\n            showClose: false,\n            duration: 2000\n          });\n          localStorage.setItem('user', JSON.stringify(this.user));\n          this.$emit('update:user', this.user);\n          this.dialogFormVisible = false;\n        } else {\n          this.$notify.error({\n            title: '成功',\n            message: res.msg,\n            showClose: false,\n            duration: 2000\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","user","JSON","parse","localStorage","getItem","dialogFormVisible","form","account","type","methods","update","$request","put","then","res","code","$message","success","setItem","stringify","$emit","$notify","error","title","message","msg","showClose","duration","handleAvatarSuccess","response","avatar","handleOpen","Number"],"sources":["src/views/front/Person.vue"],"sourcesContent":["<template>\r\n  <!-- 外层容器：用于居中 -->\r\n  <div class=\"form-container\">\r\n    <el-card class=\"form-card\">\r\n      <div class=\"card-header\">个人信息</div>\r\n\r\n      <el-form :model=\"user\" label-width=\"80px\" class=\"user-form\">\r\n        <!-- 头像上传区域 -->\r\n        <div class=\"avatar-section\">\r\n          <el-upload\r\n              class=\"avatar-uploader\"\r\n              action=\"http://localhost:9999/file/upload\"\r\n              :headers=\"{ token: user.token }\"\r\n              :show-file-list=\"false\"\r\n              :on-success=\"handleAvatarSuccess\"\r\n          >\r\n            <img v-if=\"user.avatar\" :src=\"user.avatar\" class=\"avatar\" />\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n          </el-upload>\r\n        </div>\r\n\r\n        <!-- 表单项 -->\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"user.username\" placeholder=\"用户名\" disabled />\r\n        </el-form-item>\r\n        <el-form-item label=\"姓名\" prop=\"name\">\r\n          <el-input v-model=\"user.name\" placeholder=\"姓名\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"电话\" prop=\"phone\">\r\n          <el-input v-model=\"user.phone\" placeholder=\"电话\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"user.email\" placeholder=\"邮箱\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"地址\" prop=\"address\">\r\n          <el-input type=\"textarea\" v-model=\"user.address\" placeholder=\"地址\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"性别\" prop=\"sex\">\r\n          <el-radio v-model=\"user.sex\" label=\"男\">男</el-radio>\r\n          <el-radio v-model=\"user.sex\" label=\"女\">女</el-radio>\r\n        </el-form-item>\r\n        <el-form-item label=\"年龄\" prop=\"age\">\r\n          <el-input v-model=\"user.age\" placeholder=\"年龄\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"个人介绍\" prop=\"infos\">\r\n          <el-input type=\"textarea\" v-model=\"user.infos\" placeholder=\"个人介绍\" />\r\n        </el-form-item>\r\n        <div class=\"form-actions\">\r\n          <el-button type=\"primary\" @click=\"update\">保 存</el-button>\r\n          <el-button type=\"success\" @click=\"$router.push('/front/password')\">修改密码</el-button>\r\n        </div>\r\n      </el-form>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Person\",\r\n  data() {\r\n    return {\r\n      user: JSON.parse(localStorage.getItem('user') || '{}'),\r\n      dialogFormVisible: false,\r\n      form: {\r\n        account: 0,\r\n        type: '微信支付'\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    update() {\r\n      this.$request.put('/user/update', this.user).then(res => {\r\n        if (res.code === '200') {\r\n          this.$message.success('保存成功')\r\n          localStorage.setItem('user', JSON.stringify(this.user))\r\n          this.$emit('update:user', this.user)\r\n        } else {\r\n          this.$notify.error({title: '成功', message: res.msg, showClose: false, duration: 2000});\r\n        }\r\n      })\r\n    },\r\n    handleAvatarSuccess(response) {\r\n      this.user.avatar = response.data\r\n    },\r\n    handleOpen(){\r\n      this.dialogFormVisible = true\r\n    },\r\n    account() {\r\n      this.user.account = Number(this.user.account) + Number(this.form.account)\r\n      this.$request.put('/user/update', this.user).then(res => {\r\n        if (res.code === '200') {\r\n          this.$notify.success({title: '成功', message: '充值成功', showClose: false, duration: 2000});\r\n          localStorage.setItem('user', JSON.stringify(this.user))\r\n          this.$emit('update:user', this.user)\r\n          this.dialogFormVisible = false\r\n        } else {\r\n          this.$notify.error({title: '成功', message: res.msg, showClose: false, duration: 2000});\r\n        }\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* 外层容器：全屏居中 */\r\n.form-container {\r\n  display: flex;                            /* 弹性布局 */\r\n  justify-content: center;                  /* 水平居中 */\r\n  padding: 10px;                            /* 内边距 */\r\n  box-sizing: border-box;                   /* 包含边框和内边距计算 */\r\n}\r\n\r\n/* 卡片容器：限制最大宽度，圆角阴影，响应式缩放 */\r\n.form-card {\r\n  width: 30%;                              /* 默认占满 */\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* 柔和阴影 */\r\n  border-radius: 12px;                      /* 圆角 */\r\n  transition: box-shadow 0.3s ease;         /* 阴影过渡 */\r\n}\r\n\r\n/* 卡片标题样式 - 增强视觉层次感 */\r\n.card-header {\r\n  font-size: 18px;            /* 标题字体大小18px */\r\n  font-weight: 600;           /* 半粗体，突出标题 */\r\n  color: #303133;             /* 深灰色文字，清晰可见 */\r\n  padding: 16px 20px;         /* 内边距，控制标题区域大小 */\r\n  border-bottom: 1px solid #f0f0f0; /* 底部边框，分隔标题与内容 */\r\n  background-color: #fff;     /* 白色背景，与内容区一致 */\r\n}\r\n\r\n.form-card:hover {\r\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15); /* 悬停加深阴影 */\r\n}\r\n\r\n/* 表单容器：内边距控制 */\r\n.user-form {\r\n  padding: 20px 30px;                       /* 内边距，左右留白 */\r\n}\r\n\r\n/* 头像上传区域：居中 */\r\n.avatar-section {\r\n  text-align: center;                       /* 文字/元素居中 */\r\n  margin: 20px 0;                           /* 上下外边距 */\r\n}\r\n\r\n/* 表单项标签加粗 */\r\n:deep(.el-form-item__label) {\r\n  font-weight: bold;                        /* 加粗标签 */\r\n  color: #333;                              /* 深灰文字 */\r\n}\r\n\r\n/* 上传区域容器样式 */\r\n:deep(.avatar-uploader .el-upload) {\r\n  border: 1px dashed #d9d9d9;               /* 虚线边框 */\r\n  cursor: pointer;                          /* 手型光标 */\r\n  position: relative;                       /* 相对定位 */\r\n  overflow: hidden;                         /* 隐藏溢出 */\r\n  border-radius: 50%;                       /* 圆形 */\r\n  width: 78px;                             /* 固定宽度 */\r\n  height: 78px;                            /* 固定高度 */\r\n  display: inline-block;                    /* 行内块，便于居中 */\r\n  line-height: 178px;                       /* 垂直居中图标 */\r\n  text-align: center;                       /* 水平居中 */\r\n  transition: border-color 0.3s;            /* 边框色过渡 */\r\n}\r\n\r\n/* 默认上传图标样式 */\r\n.avatar-uploader-icon {\r\n  font-size: 28px;                          /* 图标大小 */\r\n  color: #8c939d;                           /* 灰色图标 */\r\n  width: 178px;                             /* 与容器同宽 */\r\n  height: 178px;                            /* 与容器同高 */\r\n  line-height: 178px;                       /* 垂直居中 */\r\n  text-align: center;                       /* 水平居中 */\r\n  border-radius: 50%;                       /* 圆形 */\r\n  background-color: #f8f8f8;                /* 浅灰背景 */\r\n}\r\n\r\n/* 已上传头像样式 */\r\n.avatar {\r\n  width: 78px;                             /* 固定宽度 */\r\n  height: 78px;                            /* 固定高度 */\r\n  display: block;                           /* 块级元素 */\r\n  border-radius: 50%;                       /* 圆形 */\r\n  object-fit: cover;                        /* 裁剪填充 */\r\n  transition: transform 0.3s ease;          /* 缩放过渡 */\r\n}\r\n\r\n/* 头像悬停轻微放大 */\r\n.avatar:hover {\r\n  transform: scale(1.05);                   /* 放大5% */\r\n}\r\n\r\n/* 操作按钮组：居中 + 间距 */\r\n.form-actions {\r\n  text-align: center;                       /* 按钮居中 */\r\n  margin-top: 30px;                         /* 与表单间距 */\r\n}\r\n\r\n.form-actions .el-button {\r\n  margin: 0 10px;                           /* 按钮左右间距 */\r\n  min-width: 100px;                         /* 最小宽度 */\r\n}\r\n\r\n/* 自定义充值按钮样式 */\r\n.custom-recharge-btn {\r\n  background-color: #edbf37 !important;     /* 基础背景色 */\r\n  border-color: #edbf37 !important;         /* 去掉默认边框 */\r\n}\r\n\r\n/* 悬停状态样式 */\r\n.custom-recharge-btn:hover {\r\n  background-color: #f4d782 !important;      /* 基础背景色 */\r\n  border-color: #edbf37 !important;          /* 去掉默认边框 */\r\n}\r\n</style>\r\n"],"mappings":";;AAyDA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;MACAC,iBAAA;MACAC,IAAA;QACAC,OAAA;QACAC,IAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,OAAA;MACA,KAAAC,QAAA,CAAAC,GAAA,sBAAAZ,IAAA,EAAAa,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAC,QAAA,CAAAC,OAAA;UACAd,YAAA,CAAAe,OAAA,SAAAjB,IAAA,CAAAkB,SAAA,MAAAnB,IAAA;UACA,KAAAoB,KAAA,qBAAApB,IAAA;QACA;UACA,KAAAqB,OAAA,CAAAC,KAAA;YAAAC,KAAA;YAAAC,OAAA,EAAAV,GAAA,CAAAW,GAAA;YAAAC,SAAA;YAAAC,QAAA;UAAA;QACA;MACA;IACA;IACAC,oBAAAC,QAAA;MACA,KAAA7B,IAAA,CAAA8B,MAAA,GAAAD,QAAA,CAAA9B,IAAA;IACA;IACAgC,WAAA;MACA,KAAA1B,iBAAA;IACA;IACAE,QAAA;MACA,KAAAP,IAAA,CAAAO,OAAA,GAAAyB,MAAA,MAAAhC,IAAA,CAAAO,OAAA,IAAAyB,MAAA,MAAA1B,IAAA,CAAAC,OAAA;MACA,KAAAI,QAAA,CAAAC,GAAA,sBAAAZ,IAAA,EAAAa,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAM,OAAA,CAAAJ,OAAA;YAAAM,KAAA;YAAAC,OAAA;YAAAE,SAAA;YAAAC,QAAA;UAAA;UACAxB,YAAA,CAAAe,OAAA,SAAAjB,IAAA,CAAAkB,SAAA,MAAAnB,IAAA;UACA,KAAAoB,KAAA,qBAAApB,IAAA;UACA,KAAAK,iBAAA;QACA;UACA,KAAAgB,OAAA,CAAAC,KAAA;YAAAC,KAAA;YAAAC,OAAA,EAAAV,GAAA,CAAAW,GAAA;YAAAC,SAAA;YAAAC,QAAA;UAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}