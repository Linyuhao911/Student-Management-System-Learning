{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      forgetUserForm: {},\n      // 忘记密码的表单数据\n      forgetPassDialogVis: false,\n      user: {\n        username: '',\n        password: ''\n      },\n      rules: {\n        username: [{\n          required: true,\n          message: '请输入账号',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }],\n        role: [{\n          required: true,\n          message: '请选择角色',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    handleForgetPass() {\n      //  初始化表单的数据\n      this.forgetUserForm = {};\n      this.forgetPassDialogVis = true;\n    },\n    resetPassword() {\n      this.$request.put('/password', this.forgetUserForm).then(res => {\n        if (res.code === '200') {\n          this.$message.success('重置成功');\n          this.forgetPassDialogVis = false;\n        } else {\n          this.$notify.error({\n            title: '成功',\n            message: res.msg,\n            showClose: false,\n            duration: 2000\n          });\n        }\n      });\n    },\n    login() {\n      this.$refs['loginRef'].validate(valid => {\n        if (valid) {\n          // 验证通过\n          this.$request.post('/login', this.user).then(res => {\n            if (res.code === '200') {\n              localStorage.setItem(\"user\", JSON.stringify(res.data)); // 存储用户数据\n              if (this.user.role == 'ADMIN') {\n                this.$router.push('/');\n              } else {\n                this.$router.push('/front/home');\n              }\n              this.$notify.success({\n                title: '成功',\n                message: '登录成功',\n                showClose: false,\n                duration: 2000\n              });\n            } else {\n              this.$notify.error({\n                message: res.msg,\n                showClose: false,\n                duration: 2000\n              });\n            }\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","forgetUserForm","forgetPassDialogVis","user","username","password","rules","required","message","trigger","role","methods","handleForgetPass","resetPassword","$request","put","then","res","code","$message","success","$notify","error","title","msg","showClose","duration","login","$refs","validate","valid","post","localStorage","setItem","JSON","stringify","$router","push"],"sources":["src/views/Login.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <!-- 左侧区域 -->\r\n    <div class=\"left-section\">\r\n      <h1 class=\"title\">史上最简单脚手架</h1>\r\n      <p class=\"description\">一款由 Spring Boot + Vue + Mybatis Plus 开发的前后端分离脚手架。</p>\r\n      <p class=\"descr\">多角色登录，前后台界面，史上最简单最方便最易学的后台管理系统！</p>\r\n      <img src=\"../assets/login.svg\" alt=\"登录插画\" class=\"illustration\" />\r\n    </div>\r\n    <!-- 右侧区域 -->\r\n    <div class=\"right-section\">\r\n      <h1 class=\"welcome-title\">欢迎回来</h1>\r\n      <div class=\"login-type-wrapper\">\r\n        <p class=\"login-type\">账号密码登录</p>\r\n      </div>\r\n      <el-form :model=\"user\" :rules=\"rules\" ref=\"loginRef\" class=\"login-form\">\r\n        <el-form-item prop=\"username\">\r\n          <el-input v-model=\"user.username\" size=\"medium\" placeholder=\"请输入账号\" prefix-icon=\"el-icon-user\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"password\">\r\n          <el-input v-model=\"user.password\" size=\"medium\" type=\"password\" placeholder=\"请输入密码\" prefix-icon=\"el-icon-lock\" show-password></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"role\">\r\n          <el-select v-model=\"user.role\" placeholder=\"请选择角色\" style=\"width: 100%\">\r\n            <el-option label=\"管理员\" value=\"ADMIN\"></el-option>\r\n            <el-option label=\"用户\" value=\"USER\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" class=\"login-btn\" @click=\"login\">登录</el-button>\r\n        </el-form-item>\r\n\r\n        <div class=\"links\">\r\n          <div style=\"margin-left: 10px\"><a href=\"/register\">注册账号</a></div>\r\n        </div>\r\n      </el-form>\r\n    </div>\r\n\r\n    <el-dialog title=\"忘记密码\" :visible.sync=\"forgetPassDialogVis\" width=\"30%\">\r\n      <el-form :model=\"forgetUserForm\" label-width=\"80px\">\r\n        <el-form-item label=\"用户名\">\r\n          <el-input v-model=\"forgetUserForm.username\" autocomplete=\"off\" placeholder=\"请输入用户名\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号\">\r\n          <el-input v-model=\"forgetUserForm.phone\" autocomplete=\"off\" placeholder=\"请输入手机号\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"forgetPassDialogVis = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"resetPassword\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Login',\r\n  data() {\r\n    return {\r\n      forgetUserForm: {},   // 忘记密码的表单数据\r\n      forgetPassDialogVis: false,\r\n      user: {\r\n        username: '',\r\n        password: ''\r\n      },\r\n      rules: {\r\n        username: [\r\n          { required: true, message: '请输入账号', trigger: 'blur' },\r\n        ],\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' },\r\n        ],\r\n        role: [\r\n          { required: true, message: '请选择角色', trigger: 'blur' },\r\n        ],\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleForgetPass() {   //  初始化表单的数据\r\n      this.forgetUserForm = {}\r\n      this.forgetPassDialogVis = true\r\n    },\r\n    resetPassword() {\r\n      this.$request.put('/password', this.forgetUserForm).then(res => {\r\n        if (res.code === '200') {\r\n          this.$message.success('重置成功')\r\n          this.forgetPassDialogVis = false\r\n        } else {\r\n          this.$notify.error({title: '成功', message: res.msg, showClose: false, duration: 2000});\r\n        }\r\n      })\r\n    },\r\n    login() {\r\n      this.$refs['loginRef'].validate((valid) => {\r\n        if (valid) {\r\n          // 验证通过\r\n          this.$request.post('/login', this.user).then(res => {\r\n            if (res.code === '200') {\r\n              localStorage.setItem(\"user\", JSON.stringify(res.data))  // 存储用户数据\r\n              if (this.user.role == 'ADMIN'){\r\n                this.$router.push('/')\r\n              } else {\r\n                this.$router.push('/front/home')\r\n              }\r\n              this.$notify.success({title: '成功', message: '登录成功', showClose: false, duration: 2000});\r\n            } else {\r\n              this.$notify.error({message: res.msg, showClose: false, duration: 2000});\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* 登录页面整体容器：左右分区布局 */\r\n.login-container {\r\n  display: flex;              /* 启用弹性布局，实现左右分栏 */\r\n  height: 100vh;              /* 高度占满整个视口 */\r\n}\r\n\r\n/* 左侧介绍区域 */\r\n.left-section {\r\n  flex: 6;                    /* 占6份宽度（左侧较宽） */\r\n  background-color: #1f2937;  /* 深灰蓝色背景 */\r\n  color: #fff;                /* 白色文字 */\r\n  display: flex;              /* 弹性布局 */\r\n  flex-direction: column;     /* 垂直排列子元素 */\r\n  align-items: center;        /* 水平居中 */\r\n  justify-content: center;    /* 垂直居中 */\r\n  padding: 20px;              /* 内边距20px */\r\n}\r\n\r\n/* 左侧标题 */\r\n.title {\r\n  font-size:40px;            /* 字号24px */\r\n  font-weight: bold;          /* 加粗 */\r\n  margin-bottom: 20px;        /* 底部间距10px */\r\n}\r\n\r\n/* 左侧描述文字 */\r\n.description {\r\n  font-size: 20px;            /* 小字号 */\r\n  margin-bottom: 20px;        /* 底部间距30px */\r\n  text-align: center;         /* 文字居中 */\r\n}\r\n\r\n/* 左侧描述文字 */\r\n.descr {\r\n  font-size: 14px;            /* 小字号 */\r\n  margin-bottom: 20px;        /* 底部外边距30px */\r\n  text-align: center;         /* 文字水平居中 */\r\n}\r\n\r\n/* 左侧插图 */\r\n.illustration {\r\n  width: 400px;               /* 固定宽度400px */\r\n  height: auto;               /* 高度自适应，保持比例 */\r\n  border-radius: 0;           /* 无圆角 */\r\n}\r\n\r\n/* 右侧登录表单区域 */\r\n.right-section {\r\n  flex: 4;                    /* 占4份宽度（右侧较窄） */\r\n  display: flex;              /* 弹性布局 */\r\n  flex-direction: column;     /* 垂直排列 */\r\n  align-items: center;        /* 水平居中 */\r\n  justify-content: center;    /* 垂直居中 */\r\n  padding: 20px;              /* 内边距20px */\r\n  background-color: #fff;     /* 白色背景 */\r\n}\r\n\r\n/* 右侧欢迎标题 */\r\n.welcome-title {\r\n  font-size: 26px;            /* 字号26px */\r\n  font-weight: bold;          /* 加粗 */\r\n  margin-bottom: 20px;        /* 底部间距20px */\r\n  color: #1e293b;             /* 深灰文字 */\r\n}\r\n\r\n/* “账号密码登录”文字包裹容器（用于实现左右横线） */\r\n.login-type-wrapper {\r\n  display: flex;              /* 弹性布局，使伪元素与文字同行 */\r\n  align-items: center;        /* 垂直居中 */\r\n  margin-bottom: 20px;        /* 底部间距20px */\r\n  width: 200px;               /* 宽度与表单对齐，确保横线对称 */\r\n}\r\n\r\n/* 左侧横线（通过伪元素实现） */\r\n.login-type-wrapper::before {\r\n  content: '';                /* 必须设置 content 才能显示 */\r\n  flex: 1;                    /* 占据剩余空间 */\r\n  height: 1px;                /* 线条高度1px */\r\n  background-color: #e2e8f0;  /* 浅灰色线条 */\r\n  margin-right: 10px;         /* 与文字间距10px */\r\n}\r\n\r\n/* 右侧横线（通过伪元素实现） */\r\n.login-type-wrapper::after {\r\n  content: '';                /* 必须设置 content 才能显示 */\r\n  flex: 1;                    /* 占据剩余空间 */\r\n  height: 1px;                /* 线条高度1px */\r\n  background-color: #e2e8f0;  /* 浅灰色线条 */\r\n  margin-left: 10px;          /* 与文字间距10px */\r\n}\r\n\r\n/* “账号密码登录”文字样式 */\r\n.login-type {\r\n  font-size: 13px;            /* 小字号 */\r\n  color: #64748b;             /* 灰蓝色文字 */\r\n  white-space: nowrap;        /* 禁止换行，保证横线对称 */\r\n}\r\n\r\n/* 登录表单容器 */\r\n.login-form {\r\n  width: 350px;               /* 固定宽度350px，统一视觉 */\r\n}\r\n\r\n/* 登录按钮 */\r\n.login-btn {\r\n  width: 100%;                /* 宽度占满父容器 */\r\n  height: 40px;               /* 固定高度40px */\r\n  font-size: 14px;            /* 字号14px */\r\n}\r\n\r\n/* 链接容器 */\r\n.links {\r\n  display: flex;              /* 横向排列两个链接 */\r\n  justify-content: right;     /* 右对齐，符合表单底部布局习惯 */\r\n  margin: 20px 0;             /* 上下外边距20px */\r\n  font-size: 14px;            /* 小字号，弱化处理 */\r\n  color: #409eff;             /* 蓝色链接，符合 Element UI 主题 */\r\n}\r\n\r\n/* 链接样式 */\r\n.links a {\r\n  text-decoration: none;      /* 去除默认下划线 */\r\n  color: #409eff;             /* 统一链接颜色 */\r\n}\r\n\r\n/* 链接悬停效果 */\r\n.links a:hover {\r\n  text-decoration: underline; /* 悬停时显示下划线，增强交互反馈 */\r\n}\r\n</style>\r\n"],"mappings":";;AAwDA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,cAAA;MAAA;MACAC,mBAAA;MACAC,IAAA;QACAC,QAAA;QACAC,QAAA;MACA;MACAC,KAAA;QACAF,QAAA,GACA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAJ,QAAA,GACA;UAAAE,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAC,IAAA,GACA;UAAAH,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MAEA;IACA;EACA;EACAE,OAAA;IACAC,iBAAA;MAAA;MACA,KAAAX,cAAA;MACA,KAAAC,mBAAA;IACA;IACAW,cAAA;MACA,KAAAC,QAAA,CAAAC,GAAA,mBAAAd,cAAA,EAAAe,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAC,QAAA,CAAAC,OAAA;UACA,KAAAlB,mBAAA;QACA;UACA,KAAAmB,OAAA,CAAAC,KAAA;YAAAC,KAAA;YAAAf,OAAA,EAAAS,GAAA,CAAAO,GAAA;YAAAC,SAAA;YAAAC,QAAA;UAAA;QACA;MACA;IACA;IACAC,MAAA;MACA,KAAAC,KAAA,aAAAC,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA;UACA,KAAAhB,QAAA,CAAAiB,IAAA,gBAAA5B,IAAA,EAAAa,IAAA,CAAAC,GAAA;YACA,IAAAA,GAAA,CAAAC,IAAA;cACAc,YAAA,CAAAC,OAAA,SAAAC,IAAA,CAAAC,SAAA,CAAAlB,GAAA,CAAAjB,IAAA;cACA,SAAAG,IAAA,CAAAO,IAAA;gBACA,KAAA0B,OAAA,CAAAC,IAAA;cACA;gBACA,KAAAD,OAAA,CAAAC,IAAA;cACA;cACA,KAAAhB,OAAA,CAAAD,OAAA;gBAAAG,KAAA;gBAAAf,OAAA;gBAAAiB,SAAA;gBAAAC,QAAA;cAAA;YACA;cACA,KAAAL,OAAA,CAAAC,KAAA;gBAAAd,OAAA,EAAAS,GAAA,CAAAO,GAAA;gBAAAC,SAAA;gBAAAC,QAAA;cAAA;YACA;UACA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}